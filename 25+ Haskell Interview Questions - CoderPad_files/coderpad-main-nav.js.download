"use strict";!function(){function c(e,n){if(void 0===n)return document;for(var t=e.parentNode;!t.matches(n);)if((t=t.parentNode)===document)return t;return t}function u(e,n,t,o){n.addEventListener(e,function(e){e=e.target.closest(t);e&&o.apply(e,arguments)})}var e=function(){var o=document.querySelector(".js-site-header"),n=o.querySelector(".js-mobile-menu-trigger"),s=o.querySelector(".js-mobile-menu-close"),t=o.querySelector(".js-mobile-back-button"),e=!1;function i(){o.classList.add("show-back-button"),t.setAttribute("aria-hidden","true")}n&&"none"!==window.getComputedStyle(n).display&&(e=!0),u("mouseover",o,".has-children",function(){e||this.classList.add("sub-menu--open")}),u("mouseout",o,".has-children",function(){e||this.classList.remove("sub-menu--open")}),u("click",o,"a",function(){o.querySelectorAll(".sub-menu--open").forEach(function(e){e.classList.remove("sub-menu--open")});var e=c(this,".has-children");e!==window.document&&(e.classList.add("sub-menu--open"),i())}),u("mouseover",o,".has-mega-menu",function(){this.classList.add("mega-menu--open")}),u("mouseout",o,".has-mega-menu",function(){this.classList.remove("mega-menu--open")}),u("click",o,"a",function(){o.querySelectorAll(".mega-menu--open").forEach(function(e){e.classList.remove("mega-menu--open")});var e=c(this,".has-mega-menu");e!==window.document&&e.classList.add("mega-menu--open")}),u("click",o,"a",function(e){this.parentElement.classList.contains("has-children")&&e.preventDefault()}),u("click",o,".js-mobile-more-menu-link",function(e){c(this,".product")!==window.document&&i(),e.preventDefault()}),n.addEventListener("click",function(e){o.classList.add("mobile-menu--open"),s.focus(),e.preventDefault()}),s.addEventListener("click",function(e){o.classList.remove("mobile-menu--open"),o.classList.remove("show-back-button"),t.setAttribute("aria-hidden","false"),n.focus()}),t.addEventListener("click",function(e){o.querySelectorAll(".sub-menu--open").forEach(function(e){e.classList.remove("sub-menu--open")}),o.classList.remove("show-back-button")}),document.body.addEventListener("keyup",function(e){var n,t;o.matches(".mobile-menu--open")&&("Escape"===e.key&&(n=s,"string"==typeof(t="click")&&"function"==typeof n[t]?n[t]():(t="string"==typeof t?new Event(t,{bubbles:!0}):t,n.dispatchEvent(t))),o.contains(e.target)||o.querySelector(".mobile-more-menu-link").focus())})};if("undefined"!=typeof document)"complete"===document.readyState||"interactive"===document.readyState?e():document.addEventListener("DOMContentLoaded",e)}();