"use strict";function _slicedToArray2(e,t){return _arrayWithHoles2(e)||_iterableToArrayLimit2(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest2()}function _nonIterableRest2(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit2(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function _arrayWithHoles2(e){if(Array.isArray(e))return e}function ownKeys(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function _objectSpread3(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty3(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty3(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof2(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof2(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==_typeof2(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}function _createForOfIteratorHelper(e,t){var n,r,o,i,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return r=!(n=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){r=!0,o=e},f:function(){try{n||null==a.return||a.return()}finally{if(r)throw o}}};if(Array.isArray(e)||(a=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){function h(e,t){return function(){return t||(0,e[S(e)[0]])((t={exports:{}}).exports,t),t.exports}}function b(t,n,r,o){if(n&&"object"===_typeof2(n)||"function"==typeof n){var i,a=_createForOfIteratorHelper(S(n));try{for(a.s();!(i=a.n()).done;)!function(){var e=i.value;I.call(t,e)||e===r||_(t,e,{get:function(){return n[e]},enumerable:!(o=O(n,e))||o.enumerable})}()}catch(e){a.e(e)}finally{a.f()}}return t}var e=Object.create,_=Object.defineProperty,O=Object.getOwnPropertyDescriptor,S=Object.getOwnPropertyNames,t=Object.getPrototypeOf,I=Object.prototype.hasOwnProperty,n=h({"node_modules/dlv/dist/dlv.umd.js":function(e,t){"object"==_typeof2(e=e)&&void 0!==t?t.exports=function(e,t,n,r,o){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:o;return e===o?n:e}:"function"==typeof define&&define.amd?define(function(){return function(e,t,n,r,o){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:o;return e===o?n:e}}):e.dlv=function(e,t,n,r,o){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:o;return e===o?n:e}}}),P=h({"node_modules/camelcase/index.js":function(e,t){function n(e,t){if("string"==typeof e||Array.isArray(e))return t=Object.assign({pascalCase:!1},t),0===(e=Array.isArray(e)?e.map(function(e){return e.trim()}).filter(function(e){return e.length}).join("-"):e.trim()).length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():(e=e=(e=e!==e.toLowerCase()?function(e){for(var t=!1,n=!1,r=!1,o=0;o<e.length;o++){var i=e[o];t&&/[a-zA-Z]/.test(i)&&i.toUpperCase()===i?(e=e.slice(0,o)+"-"+e.slice(o),r=n,n=!(t=!1),o++):n&&r&&/[a-zA-Z]/.test(i)&&i.toLowerCase()===i?(e=e.slice(0,o-1)+"-"+e.slice(o-1),r=n,t=!(n=!1)):(t=i.toLowerCase()===i&&i.toUpperCase()!==i,r=n,n=i.toUpperCase()===i&&i.toLowerCase()!==i)}return e}(e):e).replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(e,t){return t.toUpperCase()}).replace(/\d+(\w|$)/g,function(e){return e.toUpperCase()}),t.pascalCase?e.charAt(0).toUpperCase()+e.slice(1):e);throw new TypeError("Expected the input to be `string | string[]`")}t.exports=n,t.exports.default=n}}),te=(n=n(),e=null!=n?e(t(n)):{},b(!f&&n&&n.__esModule?e:_(e,"default",{value:n,enumerable:!0}),n)),j="undefined",E="any",A="*",r="__",t="undefined"!=typeof process?process:{},D=(t.env&&t.env.NODE_ENV,"undefined"!=typeof document);D&&window.location.hostname,null!=t.versions&&t.versions.node,"object"==("undefined"==typeof self?"undefined":_typeof2(self))&&self.constructor&&self.constructor.name,D&&"nodejs"===window.name||"undefined"==typeof navigator||void 0===navigator.userAgent||navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom");function x(e,t){return t.charAt(0)[e]()+t.slice(1)}var k=x.bind(null,"toUpperCase"),N=x.bind(null,"toLowerCase");function T(e){return L(e)?k("null"):"object"==_typeof2(e)?M((t=e).constructor)?t.constructor.name:null:Object.prototype.toString.call(e).slice(8,-1);var t}function C(e,t){void 0===t&&(t=!0);e=T(e);return t?N(e):e}function o(e,t){return _typeof2(t)===e}var M=o.bind(null,"function"),B=o.bind(null,"string"),a=o.bind(null,"undefined"),z=o.bind(null,"boolean");o.bind(null,"symbol");function L(e){return null===e}function R(e){if((t=e)&&("object"==_typeof2(t)||null!==t)){for(var t,n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}}function U(e){return e instanceof Error||B(e.message)&&e.constructor&&"number"===C(e=e.constructor.stackTraceLimit)&&!isNaN(e)}function q(e,t){if("object"==_typeof2(t)&&!L(t)){if(t instanceof e)return!0;var n=C(new e(""));if(U(t))for(;t;){if(C(t)===n)return!0;t=Object.getPrototypeOf(t)}}return!1}q.bind(null,TypeError),q.bind(null,SyntaxError);function ne(e,t){var n=e instanceof Element||e instanceof HTMLDocument;return n&&t?(void 0===(t=t)&&(t=""),(e=e)&&e.nodeName===t.toUpperCase()):n}function re(e){var t=[].slice.call(arguments,1);return function(){return e.apply(void 0,[].slice.call(arguments).concat(t))}}re(ne,"form"),re(ne,"button"),re(ne,"input"),re(ne,"select");function oe(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function ie(){for(var e="",t=0,n=4294967295*Math.random()|0;t++<36;){var r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[t-1],o=15&n;e+="-"==r||"4"==r?r:("x"==r?o:3&o|8).toString(16),n=t%8==0?4294967295*Math.random()|0:n>>4}return e}var u="global",i=r+"global"+r,c="object"===("undefined"==typeof self?"undefined":_typeof2(self))&&self.self===self&&self||"object"===("undefined"==typeof global?"undefined":_typeof2(global))&&global.global===global&&global||void 0;function V(e){return c[i][e]}function F(e,t){return c[i][e]=t}function $(e){delete c[i][e]}function s(e,t,n){var r,o;try{ue(e)&&(o=(r=window[e])[t].bind(r))}catch(e){}return o||n}c[i]||(c[i]={});var ae={};function ue(t){if(_typeof2(ae[t])!==j)return ae[t];try{var e=window[t];e.setItem(j,j),e.removeItem(j)}catch(e){return ae[t]=!1}return ae[t]=!0}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var J="function",W="undefined",ce="@@redux/"+Math.random().toString(36),se=function(){return("undefined"==typeof Symbol?"undefined":_typeof2(Symbol))===J&&Symbol.observable||"@@observable"}(),le=" != "+J;function fe(e,t,n){if(_typeof2(t)===J&&_typeof2(n)===W&&(n=t,t=void 0),_typeof2(n)!==W){if(_typeof2(n)!==J)throw new Error("enhancer"+le);return n(fe)(e,t)}if(_typeof2(e)!==J)throw new Error("reducer"+le);var r=e,o=t,i=[],a=i,u=!1;function c(){a===i&&(a=i.slice())}function s(){return o}function l(t){if(_typeof2(t)!==J)throw new Error("Listener"+le);var n=!0;return c(),a.push(t),function(){var e;n&&(n=!1,c(),e=a.indexOf(t),a.splice(e,1))}}function f(e){if(!R(e))throw new Error("Act != obj");if(_typeof2(e.type)===W)throw new Error("ActType "+W);if(u)throw new Error("Dispatch in reducer");try{u=!0,o=r(o,e)}finally{u=!1}for(var t=i=a,n=0;n<t.length;n++)(0,t[n])();return e}return f({type:"@@redux/INIT"}),(n={dispatch:f,subscribe:l,getState:s,replaceReducer:function(e){if(_typeof2(e)!==J)throw new Error("next reducer"+le);r=e,f({type:"@@redux/INIT"})}})[se]=function(){var e,n=l;return(e={subscribe:function(e){if("object"!=_typeof2(e))throw new TypeError("Observer != obj");function t(){e.next&&e.next(s())}return t(),{unsubscribe:n(t)}}})[se]=function(){return this},e},n}function X(){var e=[].slice.call(arguments);return 0===e.length?function(e){return e}:1===e.length?e[0]:e.reduce(function(e,t){return function(){return e(t.apply(void 0,[].slice.call(arguments)))}})}var K=r+"anon_id",Z=r+"user_id",Y=r+"user_traits",G="userId",Q="anonymousId",de=["bootstrap","params","campaign","initializeStart","initialize","initializeEnd","ready","resetStart","reset","resetEnd","pageStart","page","pageEnd","pageAborted","trackStart","track","trackEnd","trackAborted","identifyStart","identify","identifyEnd","identifyAborted","userIdChanged","registerPlugins","enablePlugin","disablePlugin","online","offline","setItemStart","setItem","setItemEnd","setItemAborted","removeItemStart","removeItem","removeItemEnd","removeItemAborted"],pe=["name","EVENTS","config","loaded"],ee=de.reduce(function(e,t){return e[t]=t,e},{registerPluginType:function(e){return"registerPlugin:"+e},pluginReadyType:function(e){return"ready:"+e}}),ge=/^utm_/,ye=/^an_prop_/,me=/^an_trait_/;function he(e){return{userId:e.getItem(Z),anonymousId:e.getItem(K),traits:e.getItem(Y)}}var ve=function(e){return r+"TEMP"+r+e};var l={};function be(e,t){l[e]&&M(l[e])&&(l[e](t),delete l[e])}function we(a,e,u){var n,c=e(),e=a.getState(),s=e.plugins,l=e.queue,f=e.user;!e.context.offline&&l&&l.actions&&l.actions.length&&(n=l.actions.reduce(function(e,t,n){return(s[t.plugin].loaded?(e.process.push(t),e.processIndex):(e.requeue.push(t),e.requeueIndex)).push(n),e},{processIndex:[],process:[],requeue:[],requeueIndex:[]})).processIndex&&n.processIndex.length&&(n.processIndex.forEach(function(e){var n,r,e=l.actions[e],t=e.plugin,o=e.payload.type,i=c[t][o];i&&M(i)&&(void 0===(n=e.payload)&&(n={}),void 0===(r=f)&&(r={}),i({payload:e=[G,Q].reduce(function(e,t){return n.hasOwnProperty(t)&&r[t]&&r[t]!==n[t]&&(e[t]=r[t]),e},n),config:s[t].config,instance:u}),a.dispatch(H({},e,{type:i=o+":"+t,_:{called:i,from:"queueDrain"}})))}),e=l.actions.filter(function(e,t){return!~n.processIndex.indexOf(t)}),l.actions=e)}function _e(e){var p,g,r=e.data,o=e.action,l=e.instance,t=e.state,f=e.allPlugins,n=e.allMatches,c=e.store,i=e.EVENTS;try{var d=t.plugins,a=t.context,y=o.type,s=y.match(w),u=r.exact.map(function(e){return e.pluginName}),m=(s&&(u=n.during.map(function(e){return e.pluginName})),p=l,g=u,function(e,t,n){var r,o,i,a,u,c,s,l,f=t.config,t=t.name,d=t+"."+e.type,t=(n&&(d=n.event),e.type.match(w)?(i=t,a=d,u=g,c=n,s=e,function(e,t){var n=c?c.name:i,r=t&&v(t)?t:u;if(!c||(r=t&&v(t)?t:[i]).includes(i)&&1===r.length)return H({},s,{abort:{reason:e,plugins:r,caller:a,_:n}});throw new Error("Method "+a+" can only abort "+i+" plugin. "+JSON.stringify(r)+" input valid")}):(r=e,o=d,function(){throw new Error(r.type+" action not cancellable. Remove abort in "+o)}));return{payload:(l=e,Object.keys(l).reduce(function(e,t){return"type"!==t&&(e[t]=R(l[t])?Object.assign({},l[t]):l[t]),e},{})),instance:p,config:f||{},abort:t}}),h=r.exact.reduce(function(e,t){var n=t.pluginName,t=t.methodName,r=!1;return t.match(/^initialize/)||t.match(/^reset/)||(r=!d[n].loaded),a.offline&&t.match(/^(page|track|identify)/)&&(r=!0),e[""+n]=r,e},{});return Promise.resolve(r.exact.reduce(function(e,t,n){try{var s=t.pluginName;return Promise.resolve(e).then(function(t){function e(){return Promise.resolve(t)}var n=r.namespaced&&r.namespaced[s]?Promise.resolve(r.namespaced[s].reduce(function(e,c,t){try{return Promise.resolve(e).then(function(t){{if(c.method&&M(c.method)){var e=c.methodName,n=c.pluginName,r,o=Ne(e);if(o&&o.name===n)throw r=Ne(o.method),new Error([n+" plugin is calling method "+e,"Plugins cant call self","Use "+o.method+" "+(r?"or "+r.method:"")+" in "+n+" plugin insteadof "+e].join("\n"));return Promise.resolve(c.method({payload:t,instance:l,abort:(i=t,a=s,u=c.pluginName,function(e,t){return H({},i,{abort:{reason:e,plugins:t||[a],caller:y,from:u||a}})}),config:Pe(c.pluginName,d,f),plugins:d})).then(function(e){e=R(e)?e:{};return Promise.resolve(H({},t,e))})}return t}var i,a,u})}catch(e){return Promise.reject(e)}},Promise.resolve(o))).then(function(e){t[s]=e}):void(t[s]=o);return n&&n.then?n.then(e):e()})}catch(e){return Promise.reject(e)}},Promise.resolve({}))).then(function(u){return Promise.resolve(r.exact.reduce(function(e,t,n){try{var o=r.exact.length===n+1,i=t.pluginName,a=f[i];return Promise.resolve(e).then(function(n){var e,r=u[i]||{};return Ae(r=s?n:r,i)?(Ie({data:r,method:y,instance:l,pluginName:i,store:c}),Promise.resolve(n)):Ae(n,i)?(o&&Ie({data:n,method:y,instance:l,store:c}),Promise.resolve(n)):h.hasOwnProperty(i)&&!0===h[i]?(c.dispatch({type:"queue",plugin:i,payload:r,_:{called:"queue",from:"queueMechanism"}}),Promise.resolve(n)):(e=m(u[i],f[i]),Promise.resolve(a[y]({abort:e.abort,payload:r,instance:l,config:Pe(i,d,f),plugins:d})).then(function(e){var e=R(e)?e:{},e=H({},n,e),t=u[i];return Ae(t,i)?Ie({data:t,method:y,instance:l,pluginName:i,store:c}):((t=y+":"+i).match(/:/g)||[]).length<2&&!y.match(Oe)&&!y.match(Se)&&l.dispatch(H({},s?e:r,{type:t,_:{called:t,from:"submethod"}})),Promise.resolve(e)}))})}catch(e){return Promise.reject(e)}},Promise.resolve(o))).then(function(e){if(!(y.match(w)||y.match(/^registerPlugin/)||y.match(Se)||y.match(Oe)||y.match(/^params/)||y.match(/^userIdChanged/))){if(i.plugins.includes(y),e._&&e._.originalAction===y)return e;var t=H({},e,{_:{originalAction:e.type,called:e.type,from:"engineEnd"}});xe(e,r.exact.length)&&!y.match(/End$/)&&(t=H({},t,{type:e.type+"Aborted"})),c.dispatch(t)}return e})})}catch(e){return Promise.reject(e)}}var w=/Start$/,Oe=/^bootstrap/,Se=/^ready/;function Ie(e){var t=e.pluginName,t=e.method+"Aborted"+(t?":"+t:"");e.store.dispatch(H({},e.data,{type:t,_:{called:t,from:"abort"}}))}function Pe(e,t,n){t=t[e]||n[e];return t&&t.config?t.config:{}}function je(n,e){return e.reduce(function(e,t){return t[n]?e.concat({methodName:n,pluginName:t.name,method:t[n]}):e},[])}function Ee(e,t){var n=e.replace(w,""),t=t?":"+t:"";return[e+t,n+t,n+"End"+t]}function Ae(e,t){e=e.abort;return e&&(!0===e||ke(e,t)||e&&ke(e.plugins,t))}function xe(e,t){var n,e=e.abort;return e&&(!0===e||B(e)||(n=e.plugins,v(e)&&e.length===t)||v(n)&&n.length===t)}function v(e){return Array.isArray(e)}function ke(e,t){return!(!e||!v(e))&&e.includes(t)}function Ne(e){e=e.match(/(.*):(.*)/);return!!e&&{method:e[1],name:e[2]}}function Te(m,h,v){var b={};return function(y){return function(g){return function(e){try{var t,n,r,o,i,a,u,c,s=function(e){return t?e:g(d)},l=e.type,f=e.plugins,d=e;if(e.abort)return Promise.resolve(g(e));l===ee.enablePlugin&&y.dispatch({type:ee.initializeStart,plugins:f,disabled:[],fromEnable:!0,meta:e.meta}),l===ee.disablePlugin&&setTimeout(function(){return be(e.meta.rid,{payload:e})},0),l===ee.initializeEnd&&(n=h(),o=(r=Object.keys(n)).filter(function(e){return f.includes(e)}).map(function(e){return n[e]}),i=[],a=[],u=e.disabled,c=o.map(function(t){var e=t.loaded,n=t.name,r=t.config;return function r(o,i,a){return new Promise(function(t,n){return i()?t(o):a<1?n(H({},o,{queue:!0})):new Promise(function(e){return setTimeout(e,10)}).then(function(e){return r(o,i,a-10).then(t,n)})})}(t,function(){return e({config:r})},1e4).then(function(e){return b[n]||(y.dispatch({type:ee.pluginReadyType(n),name:n,events:Object.keys(t).filter(function(e){return!pe.includes(e)})}),b[n]=!0),i=i.concat(n),t}).catch(function(e){if(e instanceof Error)throw new Error(e);return a=a.concat(e.name),e})}),Promise.all(c).then(function(e){var t={plugins:i,failed:a,disabled:u};setTimeout(function(){r.length===c.length+u.length&&y.dispatch(H({},{type:ee.ready},t))},0)}));var p=function(){if(l!==ee.bootstrap)return/^ready:([^:]*)$/.test(l)&&setTimeout(function(){return we(y,h,m)},0),Promise.resolve(function(n,e,o,i,a){try{var u,t,c,s,l=M(e)?e():e,f=n.type,d=f.replace(w,"");return n._&&n._.called?Promise.resolve(n):(u=o.getState(),y=l,void 0===(m=u.plugins)&&(m={}),void 0===(h=n.options)&&(h={}),t=Object.keys(y).filter(function(e){var t=h.plugins||{};return z(t[e])?t[e]:!1!==t.all&&(!m[e]||!1!==m[e].enabled)}).map(function(e){return y[e]}),c=(t=f===ee.initializeStart&&n.fromEnable?Object.keys(u.plugins).filter(function(e){var t=u.plugins[e];return n.plugins.includes(e)&&!t.initialized}).map(function(e){return l[e]}):t).map(function(e){return e.name}),g=t,r=Ee(p=f).map(function(e){return je(e,g)}),s=g.reduce(function(e,t){var t=t.name,n=Ee(p,t).map(function(e){return je(e,g)}),r=n[0],o=n[1],n=n[2];return r.length&&(e.beforeNS[t]=r),o.length&&(e.duringNS[t]=o),n.length&&(e.afterNS[t]=n),e},{before:r[0],beforeNS:{},during:r[1],duringNS:{},after:r[2],afterNS:{}}),Promise.resolve(_e({action:n,data:{exact:s.before,namespaced:s.beforeNS},state:u,allPlugins:l,allMatches:s,instance:o,store:i,EVENTS:a})).then(function(t){function e(){var e=function(){if(f.match(w))return Promise.resolve(_e({action:H({},n,{type:d+"End"}),data:{exact:s.after,namespaced:s.afterNS},state:u,allPlugins:l,allMatches:s,instance:o,store:i,EVENTS:a})).then(function(e){e.meta&&e.meta.hasCallback&&be(e.meta.rid,{payload:e})})}();return e&&e.then?e.then(function(){return t}):t}var n,r;return xe(t,c.length)?t:(r=f!==d?Promise.resolve(_e({action:H({},t,{type:d}),data:{exact:s.during,namespaced:s.duringNS},state:u,allPlugins:l,allMatches:s,instance:o,store:i,EVENTS:a})).then(function(e){n=e}):void(n=t))&&r.then?r.then(e):e()}))}catch(e){return Promise.reject(e)}var p,g,r,y,m,h}(e,h,m,y,v)).then(function(e){return t=1,g(e)})}();return Promise.resolve(p&&p.then?p.then(s):s(p))}catch(e){return Promise.reject(e)}}}}}var Ce=function(){var a=this;this.before=[],this.after=[],this.addMiddleware=function(e,t){a[t]=a[t].concat(e)},this.removeMiddleware=function(t,e){var n=a[e].findIndex(function(e){return e===t});-1!==n&&(a[e]=[].concat(a[e].slice(0,n),a[e].slice(n+1)))},this.dynamicMiddlewares=function(i){return function(o){return function(r){return function(e){var t={getState:o.getState,dispatch:function(e){return o.dispatch(e)}},n=a[i].map(function(e){return e(t)});return X.apply(void 0,n)(r)(e)}}}}};function ze(e,t){return e.substring(t.length+1,e.length)}function Le(e,n,r){return e.reduce(function(e,t){return e[t]=H({},r[t],{enabled:n}),e},r)}function Ue(e){try{return JSON.parse(JSON.stringify(e))}catch(e){}return e}var qe={last:{},history:[]};function De(e,t){void 0===e&&(e=qe);var n=t.options,r=t.meta;return t.type===ee.track?(t=Ue(H({event:t.event,properties:t.properties},Object.keys(n).length&&{options:n},{meta:r})),H({},e,{last:t,history:e.history.concat(t)})):e}var Me={actions:[]};function Be(e,t){void 0===e&&(e=Me);var n=t.payload;switch(t.type){case"queue":var r=n&&n.type&&n.type===ee.identify?[t].concat(e.actions):e.actions.concat(t);return H({},e,{actions:r});case"dequeue":return[];default:return e}}var Re=/#.*$/;var Ve=function(e){var t,n,r,o,i,a,u;return void 0===e&&(e={}),D?(u=(t=document).title,t=t.referrer,i=(r=window).location,n=r.innerWidth,r=r.innerHeight,o=i.hash,i=i.search,a=i,u={title:u,url:u=(u=function(){if(D)for(var e,t=document.getElementsByTagName("link"),n=0;e=t[n];n++)if("canonical"===e.getAttribute("rel"))return e.getAttribute("href")}())?u.match(/\?/)?u:u+a:window.location.href.replace(Re,""),path:"/"+((a=/(http[s]?:\/\/)?([^\/\s]+\/)(.*)/g.exec(a=u))&&a[3]?a[3].split("?")[0].replace(Re,""):""),hash:o,search:i,width:n,height:r},t&&""!==t&&(u.referrer=t),H({},u,e)):e},Fe={last:{},history:[]};function $e(e,t){void 0===e&&(e=Fe);var n=t.options;return t.type===ee.page?(t=Ue(H({properties:t.properties,meta:t.meta},Object.keys(n).length&&{options:n})),H({},e,{last:t,history:e.history.concat(t)})):e}var e=!!D&&(~(f=navigator.appVersion).indexOf("Win")?"Windows":~f.indexOf("Mac")?"MacOS":~f.indexOf("X11")?"UNIX":~f.indexOf("Linux")?"Linux":"Unknown OS"),n=D?document.referrer:null,t=function(){var e,t;if(D)return t=(e=navigator).languages,e.userLanguage||(t&&t.length?t[0]:e.language)}(),f=function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){}}(),He={initialized:!1,sessionId:ie(),app:null,version:null,debug:!1,offline:!!D&&!navigator.onLine,os:{name:e},userAgent:D?navigator.userAgent:"node",library:{name:"analytics",version:"0.12.5"},timezone:f,locale:t,campaign:{},referrer:n};function Je(e,t){var n=(e=void 0===e?He:e).initialized,r=t.campaign;switch(t.type){case ee.campaign:return H({},e,{campaign:r});case ee.offline:return H({},e,{offline:!0});case ee.online:return H({},e,{offline:!1});default:return n?e:H({},He,e,{initialized:!0})}}var We=["plugins","reducers","storage"];function Xe(t){var e=function(e,t,n){var r;D&&(r=window[(n?"add":"remove")+"EventListener"],e.split(" ").forEach(function(e){r(e,t)}))}.bind(null,"online offline",function(e){return Promise.resolve(!navigator.onLine).then(t)});e(!0)}function Ke(){return F("analytics",[]),function(o){return function(e,t,n){var e=o(e,t,n),r=e.dispatch;return Object.assign(e,{dispatch:function(e){return c[i].analytics.push(e.action||e),r(e)}})}}}function Ze(){return function(){return X(X.apply(null,arguments),Ke())}}function Ye(e){return e?"array"===C(e)?e:[e]:[]}function Ge(e,t,n){void 0===e&&(e={});var r,o,i=ie();return t&&(l[i]=(r=t,o=function(e){for(var t,n=e||Array.prototype.slice.call(arguments),r=0;r<n.length;r++)if(M(n[r])){t=n[r];break}return t}(n),function(e){o&&o(e),r(e)})),H({},e,{rid:i,ts:(new Date).getTime()},t?{hasCallback:!0}:{})}function Qe(e){function t(){return h}function u(){throw new Error("Abort disabled inListener")}var r,c,n,s,l,f,d,p,a,o=(e=void 0===e?{}:e).reducers||{},i=e.initialUser||{},g=(e.plugins||[]).reduce(function(e,n){if(M(n))e.middlewares=e.middlewares.concat(n);else{if(n.NAMESPACE&&(n.name=n.NAMESPACE),!n.name)throw new Error("https://lytics.dev/errors/1");n.config||(n.config={});var t=n.EVENTS?Object.keys(n.EVENTS).map(function(e){return n.EVENTS[e]}):[],t=(e.pluginEnabled[n.name]=!(!1===n.enabled||!1===n.config.enabled),delete n.enabled,n.methods&&(e.methods[n.name]=Object.keys(n.methods).reduce(function(e,t){var r;return e[t]=(r=n.methods[t],function(){for(var e=Array.prototype.slice.call(arguments),t=new Array(r.length),n=0;n<e.length;n++)t[n]=e[n];return t[t.length]=A,r.apply({instance:A},t)}),e},{}),delete n.methods),Object.keys(n).concat(t)),t=new Set(e.events.concat(t));if(e.events=Array.from(t),e.pluginsArray=e.pluginsArray.concat(n),e.plugins[n.name])throw new Error(n.name+"AlreadyLoaded");e.plugins[n.name]=n,e.plugins[n.name].loaded||(e.plugins[n.name].loaded=function(){return!0})}return e},{plugins:{},pluginEnabled:{},methods:{},pluginsArray:[],middlewares:[],events:[]}),y=e.storage||{getItem:V,setItem:F,removeItem:$},m=(r=y,function(e,t,n){return t.getState("user")[e]||(n&&R(n)&&n[e]?n[e]:he(r)[e]||V(ve(e))||null)}),h=g.plugins,v=g.events.filter(function(e){return!pe.includes(e)}).sort(),b=new Set(v.concat(de).filter(function(e){return!pe.includes(e)})),b=Array.from(b).sort(),w=new Ce,_=w.addMiddleware,O=w.removeMiddleware,w=w.dynamicMiddlewares,S=function(e){for(var t,n=e?(e=e.match(/\?(.*)/))&&e[1]?e[1].split("#")[0]:"":D&&window.location.search.substring(1),r=Object.create(null),o=/([^&=]+)=?([^&]*)/g;a=o.exec(n);){var i=oe(a[1]),a=oe(a[2]);"[]"===i.substring(i.length-2)?(r[i=i.substring(0,i.length-2)]||(r[i]=[])).push(a):r[i]=""===a||a}for(t in r){var u=t.split("[");if(1<u.length){{c=void 0;s=void 0;l=void 0;f=void 0;d=void 0;p=void 0;var c=r;var s=u.map(function(e){return e.replace(/[?[\]\\ ]/g,"")});var l=r[t];for(var f=s.length-1,d=0;d<f;++d){var p=s[d];if("__proto__"===p||"constructor"===p)break;p in c||(c[p]={}),c=c[p]}c[s[f]]=l}delete r[t]}}return r}(),I=he(y),P=H({},I,i,S.an_uid?{userId:S.an_uid}:{},S.an_aid?{anonymousId:S.an_aid}:{}),j=(P.anonymousId||(P.anonymousId=ie()),H({enable:function(t,n){return new Promise(function(e){L.dispatch({type:ee.enablePlugin,plugins:Ye(t),_:{originalAction:ee.enablePlugin}},e,[n])})},disable:function(t,n){return new Promise(function(e){L.dispatch({type:ee.disablePlugin,plugins:Ye(t),_:{originalAction:ee.disablePlugin}},e,[n])})}},g.methods)),E=!1,A={identify:function(e,t,n,r){try{var o=B(e)?e:null,i=R(e)?e:t,a=n||{},u=A.user(),c=(F(ve(G),o),o||i.userId||m(G,A,i));return Promise.resolve(new Promise(function(e){L.dispatch(H({type:ee.identifyStart,userId:c,traits:i||{},options:a,anonymousId:u.anonymousId},u.id&&u.id!==o&&{previousId:u.id}),e,[t,n,r])}))}catch(e){return Promise.reject(e)}},track:function(e,t,n,r){try{var o,i,a=R(e)?e.event:e;if(a&&B(a))return o=R(e)?e:t||{},i=R(n)?n:{},Promise.resolve(new Promise(function(e){L.dispatch({type:ee.trackStart,event:a,properties:o,options:i,userId:m(G,A,t),anonymousId:m(Q,A,t)},e,[t,n,r])}));throw new Error("EventMissing")}catch(e){return Promise.reject(e)}},page:function(t,n,r){try{var o=R(t)?t:{},i=R(n)?n:{};return Promise.resolve(new Promise(function(e){L.dispatch({type:ee.pageStart,properties:Ve(o),options:i,userId:m(G,A,o),anonymousId:m(Q,A,o)},e,[t,n,r])}))}catch(e){return Promise.reject(e)}},user:function(e){var t;return e===G||"id"===e?m(G,A):e===Q||"anonId"===e?m(Q,A):(t=A.getState("user"),e?(0,te.default)(t,e):t)},reset:function(t){return new Promise(function(e){L.dispatch({type:ee.resetStart},e,t)})},ready:function(t){return E&&t({plugins:j,instance:A}),A.on(ee.ready,function(e){t(e),E=!0})},on:function(n,r){if(!n||!M(r))return!1;if(n===ee.bootstrap)throw new Error(".on disabled for "+n);var e,t,o,i,a=/Start$|Start:/;return"*"===n?(t=function(e){return function(t){return function(e){return e.type.match(a)||r({payload:e,instance:A,plugins:h}),t(e)}}},_(e=function(e){return function(t){return function(e){return e.type.match(a)&&r({payload:e,instance:A,plugins:h}),t(e)}}},et),_(t,tt),function(){O(e,et),O(t,tt)}):(o=n.match(a)?et:tt,_(i=function(e){return function(t){return function(e){return e.type===n&&r({payload:e,instance:A,plugins:h,abort:u}),t(e)}}},o),function(){return O(i,o)})},once:function(e,t){if(!e||!M(t))return!1;if(e===ee.bootstrap)throw new Error(".once disabled for "+e);var n=A.on(e,function(e){t({payload:e.payload,instance:A,plugins:h,abort:u}),n()});return n},getState:function(e){var t=L.getState();return e?(0,te.default)(t,e):Object.assign({},t)},dispatch:function(e){var t=B(e)?{type:e}:e;if(de.includes(t.type))throw new Error("reserved action "+t.type);t=H({},t,{_:H({originalAction:t.type},e._||{})});L.dispatch(t)},enablePlugin:j.enable,disablePlugin:j.disable,plugins:j,storage:{getItem:y.getItem,setItem:function(e,t,n){L.dispatch({type:ee.setItemStart,key:e,value:t,options:n})},removeItem:function(e,t){L.dispatch({type:ee.removeItemStart,key:e,options:t})}},setAnonymousId:function(e,t){A.storage.setItem(K,e,t)},events:{core:de,plugins:v}},v=g.middlewares.concat([function(e){return function(t){return function(e){return e.meta||(e.meta=Ge()),t(e)}}},w(et),Te(A,t,{all:b,plugins:v}),(a=y,function(e){return function(i){return function(e){var t=e.type,n=e.key,r=e.value,o=e.options;if(t===ee.setItem||t===ee.removeItem){if(e.abort)return i(e);t===ee.setItem?a.setItem(n,r,o):a.removeItem(n,o)}return i(e)}}}),(p=(d=A).storage.setItem,function(l){return function(s){return function(e){var r,t,n,o,i,a,u,c;return e.type===ee.bootstrap&&(r=e.params,i=e.user,t=e.persistedUser,n=e.initialUser,o=t.userId===i.userId,t.anonymousId!==i.anonymousId&&p(K,i.anonymousId),o||p(Z,i.userId),n.traits&&p(Y,H({},o&&t.traits?t.traits:{},n.traits)),(i=Object.keys(e.params)).length)&&(a=r.an_uid,u=r.an_event,c=i.reduce(function(e,t){var n;return(t.match(ge)||t.match(/^(d|g)clid/))&&(n=t.replace(ge,""),e.campaign["campaign"===n?"name":n]=r[t]),t.match(ye)&&(e.props[t.replace(ye,"")]=r[t]),t.match(me)&&(e.traits[t.replace(me,"")]=r[t]),e},{campaign:{},props:{},traits:{}}),l.dispatch(H({type:ee.params,raw:r},c,a?{userId:a}:{})),a&&setTimeout(function(){return d.identify(a,c.traits)},0),u&&setTimeout(function(){return d.track(u,c.props)},0),Object.keys(c.campaign).length)&&l.dispatch({type:ee.campaign,campaign:c.campaign}),s(e)}}}),(s=(b=(b=A).storage).setItem,l=b.removeItem,f=b.getItem,function(u){return function(a){return function(e){var t,n,r=e.userId,o=e.traits,i=e.options;return e.type===ee.reset&&([Z,Y,K].forEach(function(e){l(e)}),[G,Q,"traits"].forEach(function(e){$(ve(e))})),e.type===ee.identify&&(f(K)||s(K,ie()),t=f(Z),n=f(Y)||{},t&&t!==r&&u.dispatch({type:ee.userIdChanged,old:{userId:t,traits:n},new:{userId:r,traits:o},options:i}),r&&s(Z,r),o)&&s(Y,H({},n,o)),a(e)}}}),w(tt)]),b={context:Je,user:(n=y,function(e,t){if(void 0===e&&(e={}),(t=void 0===t?{}:t).type===ee.setItemEnd){if(t.key===K)return H({},e,{anonymousId:t.value});if(t.key===Z)return H({},e,{userId:t.value})}switch(t.type){case ee.identify:return Object.assign({},e,{userId:t.userId,traits:H({},e.traits,t.traits)});case ee.reset:return[Z,K,Y].forEach(function(e){n.removeItem(e)}),Object.assign({},e,{userId:null,anonymousId:null,traits:{}});default:return e}}),page:$e,track:De,plugins:(c=t,function(e,t){void 0===e&&(e={});var n,r,o,i,a={};if("initialize:aborted"===t.type)return e;if(/^registerPlugin:([^:]*)$/.test(t.type))return o=ze(t.type,"registerPlugin"),(n=c()[o])&&o?(i=t.enabled,r=n.config,a[o]={enabled:i,initialized:!!i&&Boolean(!n.initialize),loaded:!!i&&Boolean(n.loaded({config:r})),config:r},H({},e,a)):e;if(/^initialize:([^:]*)$/.test(t.type))return o=ze(t.type,ee.initialize),(i=c()[o])&&o?(a[o]=H({},e[o],{initialized:!0,loaded:Boolean(i.loaded({config:i.config}))}),H({},e,a)):e;if(/^ready:([^:]*)$/.test(t.type))return a[t.name]=H({},e[t.name],{loaded:!0}),H({},e,a);switch(t.type){case ee.disablePlugin:return H({},e,Le(t.plugins,!1,e));case ee.enablePlugin:return H({},e,Le(t.plugins,!0,e));default:return e}}),queue:Be},w=X,y=X;D&&e.debug&&((z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__)&&(w=z({trace:!0,traceLimit:25})),y=function(){return 0===arguments.length?Ke():R(_typeof2(arguments[0]))?Ze():Ze().apply(null,arguments)});k=e;var x,k,N,T,C,z=Object.keys(k).reduce(function(e,t){return We.includes(t)||(e[t]=k[t]),e},{}),e={context:z,user:P,plugins:g.pluginsArray.reduce(function(e,t){var n=t.name,r=t.config,o=t.loaded,i=g.pluginEnabled[n];return e[n]={enabled:i,initialized:!!i&&Boolean(!t.initialize),loaded:Boolean(o({config:r})),config:r},e},{})},L=fe(function(e){for(var t=Object.keys(e),l={},n=0;n<t.length;n++){var r=t[n];_typeof2(e[r])===J&&(l[r]=e[r])}var f,o,d=Object.keys(l);try{o=l,Object.keys(o).forEach(function(e){var t=o[e];if(_typeof2(t(void 0,{type:"@@redux/INIT"}))===W||_typeof2(t(void 0,{type:ce}))===W)throw new Error("reducer "+e+" "+W)})}catch(e){f=e}return function(e,t){if(void 0===e&&(e={}),f)throw f;for(var n,r=!1,o={},i=0;i<d.length;i++){var a,u=d[i],c=e[u],s=(0,l[u])(c,t);if(_typeof2(s)===W)throw n=u,a="action "+((a=(a=t)&&a.type)&&a.toString()||"?")+"reducer "+n+" returns "+W,new Error(a);o[u]=s,r=r||s!==c}return r?o:e}}(H({},b,o)),e,y(w(function(){var a=arguments;return function(i){return function(e,t,n){var e=i(e,t,n),r=e.dispatch,o={getState:e.getState,dispatch:function(e){return r(e)}},t=[].slice.call(a).map(function(e){return e(o)});return H({},e,{dispatch:r=X.apply(void 0,t)(e.dispatch)})}}}.apply(void 0,v)))),b=(L.dispatch=(x=L.dispatch,function(e,t,n){e=H({},e,{meta:Ge(e.meta,t,Ye(n))});return x.apply(null,[e])}),Object.keys(h)),U=(L.dispatch({type:ee.bootstrap,plugins:b,config:z,params:S,user:P,initialUser:i,persistedUser:I}),b.filter(function(e){return g.pluginEnabled[e]})),q=b.filter(function(e){return!g.pluginEnabled[e]});return L.dispatch({type:ee.registerPlugins,plugins:b,enabled:g.pluginEnabled}),g.pluginsArray.map(function(e,t){var n=e.bootstrap,r=e.config,o=e.name;n&&M(n)&&n({instance:A,config:r,payload:e}),L.dispatch({type:ee.registerPluginType(o),name:o,enabled:g.pluginEnabled[o],plugin:e}),g.pluginsArray.length===t+1&&L.dispatch({type:ee.initializeStart,plugins:U,disabled:q})}),Xe(function(e){L.dispatch({type:e?ee.offline:ee.online})}),N=L,T=t,C=A,setInterval(function(){return we(N,T,C)},3e3),A}var et="before",tt="after",d="cookie",p=it(),nt=at,rt=at;function ot(e){p?at(e,"",-1):$(e)}function it(){if(void 0===p){var e="cookiecookie";try{at(e,e),p=-1!==document.cookie.indexOf(e),ot(e)}catch(e){p=!1}}return p}function at(e,t,n,r,o,i){var a;if("undefined"!=typeof window)return a=1<arguments.length,!1===p&&(a?F(e,t):V(e)),a?document.cookie=e+"="+encodeURIComponent(t)+(n?"; expires="+new Date(+new Date+1e3*n).toUTCString()+(r?"; path="+r:"")+(o?"; domain="+o:"")+(i?"; secure":""):""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}var ut="localStorage",e=ue.bind(null,"localStorage"),ct=(s("localStorage","getItem",V),s("localStorage","setItem",F),s("localStorage","removeItem",$),"sessionStorage"),f=ue.bind(null,"sessionStorage");s("sessionStorage","getItem",V),s("sessionStorage","setItem",F),s("sessionStorage","removeItem",$);function g(e){var t=e;try{if("true"===(t=JSON.parse(e)))return!0;if("false"===t)return!1;if(R(t))return t;parseFloat(t)===t&&(t=parseFloat(t))}catch(e){}if(null!==t&&""!==t)return t}var st=e(),lt=f(),ft=it();function dt(e,t){var n,r,o;if(e)return n=!ht(t=pt(t)),r=gt(t)?g(localStorage.getItem(e)):void 0,n&&!a(r)?r:(o=yt(t)?g(nt(e)):void 0,n&&o?o:(t=mt(t)?g(sessionStorage.getItem(e)):void 0,n&&t?t:(e=V(e),n?e:{localStorage:r,sessionStorage:t,cookie:o,global:e})))}function pt(e){return e?B(e)?e:e.storage:E}function gt(e){return st&&vt(e,ut)}function yt(e){return ft&&vt(e,d)}function mt(e){return lt&&vt(e,ct)}function ht(e){return e===A||"all"===e}function vt(e,t){return e===E||e===t||ht(e)}function bt(e,t,n){return{location:e,current:t,previous:n}}var wt={setItem:function(e,t,n){var r,o,i;if(e&&!a(t))return r={},n=pt(n),o=JSON.stringify(t),i=!ht(n),gt(n)&&(r[ut]=bt(ut,t,g(localStorage.getItem(e))),localStorage.setItem(e,o),i)?r[ut]:yt(n)&&(r[d]=bt(d,t,g(nt(e))),rt(e,o),i)?r[d]:mt(n)&&(r[ct]=bt(ct,t,g(sessionStorage.getItem(e))),sessionStorage.setItem(e,o),i)?r[ct]:(r[u]=bt(u,t,V(e)),F(e,t),i?r[u]:r)},getItem:dt,removeItem:function(e,t){var n,r;if(e)return t=pt(t),n=dt(e,A),r={},!a(n.localStorage)&&gt(t)&&(localStorage.removeItem(e),r[ut]=n.localStorage),!a(n.cookie)&&yt(t)&&(ot(e),r[d]=n.cookie),!a(n.sessionStorage)&&mt(t)&&(sessionStorage.removeItem(e),r[ct]=n.sessionStorage),!a(n.global)&&vt(t,u)&&($(e),r[u]=n.global),r}};function _t(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Ot(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(o),!0).forEach(function(e){var t,n;t=r,n=o[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):_t(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}var t={stitchURL:null},St=!1,It=null;function Pt(e){var t;It&&(e=function(e){for(var t=new URLSearchParams,n=0,r=Object.entries(function(e){var t={};return function e(t,n,r){for(var o=0,i=Object.entries(t);o<i.length;o++){var a=_slicedToArray2(i[o],2),u=a[0],a=a[1],u=r+u;"function"!=typeof a&&(Array.isArray(a)||a&&"object"===_typeof2(a)?e(a,n,u+"."):n[u]=a)}}(e,t,""),t}(e));n<r.length;n++){var o=_slicedToArray2(r[n],2),i=o[0],o=o[1];t.set(i,o)}return t}(e),"function"==typeof navigator.sendBeacon?(t=new Blob([e.toString()],{type:"application/x-www-form-urlencoded"}),navigator.sendBeacon(It,t)):((t=new XMLHttpRequest).open("POST",It),t.send(e)))}function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function At(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Et(Object(o),!0).forEach(function(e){var t,n;t=r,n=o[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Et(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}var xt=P(),kt={org:"",debug:!1};var Nt=["str","int","date","real","bool","strs","ints","dates","reals","bools"];function Tt(i,a){return Object.keys(i).reduce(function(e,t){var n,r,o=i[t];return a&&Ct.includes(t)?e[t]=o:(n=Nt.find(function(e){return t.endsWith("_".concat(e))}))?(r=t.replace("_".concat(n),""),e["".concat(xt(r),"_").concat(n)]=o):(r=function(e){if(Array.isArray(e)){if(e.every(function(e){return"string"==typeof e}))return"strs";if(e.every(function(e){return"boolean"==typeof e}))return"bools";if(e.every(function(e){return"number"==typeof e}))return zt(e);if(e.every(function(e){return e instanceof Date}))return"dates"}if(e instanceof Date)return"date";switch(jt(e)){case"string":return"str";case"boolean":return"bool";case"number":return zt(e);default:return"str"}}(o),e["".concat(xt(t),"_").concat(r)]=o),e},{})}var Ct=["displayName","email","uid","acctId","website"];function zt(e){return e%1!=0?"real":"int"}n=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r="analytics";return{name:"fullstory",config:At(At({},kt),e),initialize:function(e){var t,n,r,o,i,a,u,c,e=e.config;if(!e.org)throw new Error("No org name supplied for fullstory");n=document.getElementsByTagName("script"),Object.keys(n).filter(function(e){return n[e].src.match(/fullstory\.com\/s\/fs/)}).length||((t=document.createElement("script")).type="text/javascript",t.async=!0,t.crossOrigin="anonymous",t.src="https://edge.fullstory.com/s/fs.js",t.addEventListener("error",function(){throw new Error("Full story failed to load.")}),setTimeout(function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)},0)),window._fs_debug=e.debug,window._fs_host="fullstory.com",window._fs_script="edge.fullstory.com/s/fs.js",window._fs_org=e.org,window._fs_namespace="FS",e=window,r=document,o=window._fs_namespace,i="user",o in e?e.console&&e.console.log&&e.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].'):((u=e[o]=function(e,t,n){u.q?u.q.push([e,t,n]):u._api(e,t,n)}).q=[],(a=r.createElement("script")).async=1,a.crossOrigin="anonymous",a.src="https://"+_fs_script,(c=r.getElementsByTagName("script")[0]).parentNode.insertBefore(a,c),u.identify=function(e,t,n){u(i,{uid:e},n),t&&u(i,t,n)},u.setUserVars=function(e,t){u(i,e,t)},u.event=function(e,t,n){u("event",{n:e,p:t},n)},u.anonymize=function(){u.identify(!1)},u.shutdown=function(){u("rec",!1)},u.restart=function(){u("rec",!0)},u.log=function(e,t){u("log",[e,t])},u.consent=function(e){u("consent",!arguments.length||e)},u.identifyAccount=function(e,t){a="account",(t=t||{}).acctId=e,u(a,t)},u.clearUserCookie=function(){},u.setVars=function(e,t){u("setVars",[e,t])},u._w={},c="XMLHttpRequest",u._w[c]=e[c],c="fetch",u._w[c]=e[c],e[c]&&(e[c]=function(){return u._w[c].apply(this,arguments)}),u._v="1.3.0")},identify:function(e){var t=e.payload,e=(e.config,t.userId),n=t.anonymousId,t=t.traits;if("undefined"==typeof FS)return!1;t=Tt(t,!0);e?FS.identify(e,t,r):(t.analyticsAnonymousId_str=n,FS.setUserVars(t,r))},track:function(e){var t=e.payload;if(e.options,e.config,"undefined"==typeof FS)return!1;e=Tt(t.properties);FS.event(t.event,e,r)},loaded:function(){return!!window.FS}}};function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ut(e,t){e=e.split(" ").join("_").split(".").join("_").split("\n").join("_").split("\v").join("_").split("\t").join("_").split("\f").join("_").split("\r").join("_").split(/(?=[A-Z])/).join("_").toLowerCase();return"first_name"===e||"last_name"===e?[e.replace(/_/,""),t]:[e,t]}var y,m,e=function(){var n=!1;return{name:"hubspot",config:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},initialize:function(e){var t,n,r,o,e=e.config,i=e.portalId,e=e.customScriptSrc;if(!i)throw new Error("No hubspot portalId defined");t=document.getElementsByTagName("script"),Object.keys(t).filter(function(e){return((t[e]||{}).src||"").match(/js\.hs-scripts\.com/)}).length||(r="https:"===(r=document.location.protocol)||"chrome-extension:"===r,n=Math.floor((new Date).getTime()/36e5),e=e||"".concat(r?"https:":"http:","//js.hs-scripts.com/").concat(i,".js"),r="".concat(e,"?").concat(n),(o=document.createElement("script")).id="hs-script-loader",o.type="text/javascript",o.async=!0,o.src=r,setTimeout(function(){var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(o,e)},0))},identify:function(e){var t=e.payload,e=e.config,n=t.userId,t=t.traits;"undefined"!=typeof _hsq&&t.email&&(t=function(r,e,o){var t=Object.keys(r).reduce(function(e,t){var t=Lt(o(t,r[t]),2),n=t[0],t=t[1];return e[n]=t,e},{});e&&!t.id&&(t.id=e);return t}(t,n,Ut),_hsq.push(["identify",t]),e.flushOnIdentify)&&_hsq.push(["trackPageView"])},page:function(e){var t=e.payload;e.options,e.instance;"undefined"!=typeof _hsq&&(n?(_hsq.push(["setPath",t.properties.path]),_hsq.push(["trackPageView"])):n=!0)},track:function(e){var t=e.payload;e.options,e.config;"undefined"!=typeof _hsq&&(e=Object.assign({},t.properties,{id:t.event}),_hsq.push(["trackEvent",e]))},reset:function(){"undefined"!=typeof _hsq&&_hsp.push(["revokeCookieConsent"])},loaded:function(){return!(!window._hsq||window._hsq.push===Array.prototype.push)}}};function qt(e,t){if(void 0===t)return document;for(var n=e.parentNode;!n.matches(t);)if((n=n.parentNode)===document)return n;return n}window.analytics=null,y=window,m=document,f=[],y.CoderPad.stitch_url&&f.push((P={stitchURL:y.CoderPad.stitch_url},{name:"stitch-plugin",config:_objectSpread3(_objectSpread3({},t),P),initialize:function(e){e.config.stitchURL||St?It=e.config.stitchURL:(console.warn("No Stitch URL: analytics will not be sent"),St=!0)},page:function(e){Pt(e.payload)},identify:function(e){Pt(e.payload)},track:function(e){e=e.payload;Pt(_objectSpread3(_objectSpread3({},e),{},{properties:JSON.stringify(e.properties)||"{}"}))},loaded:function(){return!0}})),y.CoderPad.fullstory_org_name&&(y._fs_run_in_iframe=!0,f.push(n({org:y.CoderPad.fullstory_org_name}))),y.CoderPad.hubspot_portal_id&&f.push(e({portalId:y.CoderPad.hubspot_portal_id})),y.analytics=function(e){return e=0<arguments.length&&void 0!==e?e:{},Qe(Ot(Ot({},{storage:wt}),e))}({app:"coderpad",plugins:f}),y.analytics.ready(function(){y.analytics.page()}),m.addEventListener("click",function(e){for(var t,n=e.target;n.hasAttribute&&!n.hasAttribute("data-ga-category");){if("BODY"===n.tagName)return;n=n.parentNode}n&&void 0!==n.tagName&&(e=new CustomEvent("preCoderpadAnalytics",{bubbles:!0}),n.dispatchEvent(e),e={category:null,action:null,label:null,value:null},(t=n).hasAttribute&&t.hasAttribute("data-ga-category")&&(e.category=t.getAttribute("data-ga-category"),e.action=t.getAttribute("data-ga-action")||t.href,e.label=t.getAttribute("data-ga-label"),e.value=parseInt(t.getAttribute("data-ga-value"))||null),t=e,"function"==typeof y.gtag&&y.CoderPad.ga4_tracking_id&&y.gtag("event",t.category,{event_url:t.action,event_label:t.label,value:t.value,send_to:y.CoderPad.ga4_tracking_id}),y.zaraz&&"function"==typeof y.zaraz.track&&y.zaraz.track(t.category,{event_url:t.action,event_label:t.label,value:t.value}),y.analytics.track(t.action,{category:t.category,label:t.label,value:t.value},{plugins:{all:!1,"stitch-plugin":!0}}))},!1),m.addEventListener("click",function(e){for(var t=e.target;t.tagName&&"A"!==t.tagName;){if("BODY"===t.tagName)return;t=t.parentNode}var n,r=!(!(e=t)||"A"!==e.tagName||!e.hasAttribute("href")||(e=e.href,r=new URL(e).origin,![location.origin,"https://coderpad.io","https://app.coderpad.io","https://www.codingame.com"].includes(r)))&&e;r&&(e="internal_link_click",!function(e){for(var t in e)if(e.hasOwnProperty(t))return;return 1}(n=function(e){for(var t in e)null!==e[t]&&void 0!==e[t]&&e[t]||delete e[t];return e}(n={link_text:(n=t).innerText?n.innerText.replace(/\s/g," "):(n=n.querySelector("img"))&&n.hasAttribute("alt")&&n.alt?"Image: "+n.alt.replace(/\\n/gi," "):n&&n.hasAttribute("src")&&n.src?"Image: "+n.src:void 0,link_url:r,link_classes:(n=t).hasAttribute("class")&&n.className?n.className:"",link_id:(n=t).hasAttribute("id")&&n.id?n.id:"",cp_menu_location:(n=qt(n=t,"[data-menu-location]"))!==m&&n.hasAttribute("data-menu-location")?n.getAttribute("data-menu-location"):"",cp_page_type:null==(n=m.getElementById("top"))?void 0:n.getAttribute("data-page-type"),cp_block_name:(n=qt(n=t,"[data-block-name]"))!==m&&n.hasAttribute("data-block-name")?n.getAttribute("data-block-name"):""})))&&(y.zaraz&&"function"==typeof y.zaraz.track&&y.zaraz.track(e,n),"function"==typeof y.gtag)&&y.CoderPad.ga4_tracking_id&&(n.send_to=y.CoderPad.ga4_tracking_id,y.gtag("event",e,n))},!1)}();